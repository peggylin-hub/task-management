<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="TaskManagementApp.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:TaskManagementApp"
    xmlns:views="clr-namespace:TaskManagementApp.Views"
    Shell.FlyoutBehavior="Flyout"
    Title="TaskManagementApp">

    <Shell.FlyoutContent>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="200" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            
            <!-- Header -->
            <StackLayout Grid.Row="0" BackgroundColor="#2196F3" Padding="20">
                <Label Text="Task Management" 
                       TextColor="White" 
                       FontSize="20" 
                       FontAttributes="Bold" />
                <Label Text="Quick Todo List" 
                       TextColor="White" 
                       FontSize="16" />
            </StackLayout>
            
            <!-- Todo List in Flyout -->
            <ScrollView Grid.Row="1" Padding="15">
                <StackLayout Spacing="10">
                    <Label Text="Quick Todos" 
                           FontSize="18" 
                           FontAttributes="Bold" />
                    
                    <CollectionView x:Name="FlyoutTodoList" 
                                    HeightRequest="200">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Grid Padding="5" ColumnDefinitions="Auto,*">
                                    <CheckBox Grid.Column="0" 
                                              IsChecked="{Binding IsCompleted}" />
                                    <Label Grid.Column="1" 
                                           Text="{Binding Title}" 
                                           VerticalOptions="Center"
                                           FontSize="14"
                                           Margin="10,0,0,0" />
                                </Grid>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                    
                    <Button Text="+ Add Todo" 
                            Clicked="OnAddFlyoutTodoClicked"
                            FontSize="14"
                            HeightRequest="40" />
                    
                    <!-- Navigation Menu -->
                    <BoxView HeightRequest="1" 
                             Color="LightGray" 
                             Margin="0,20,0,10" />
                    
                    <Label Text="Navigation" 
                           FontAttributes="Bold"
                           Margin="0,10,0,5" />
                    
                    <Button Text="🏠 Home" 
                            Clicked="OnHomeClicked"
                            BackgroundColor="Transparent"
                            TextColor="Black"
                            HorizontalOptions="Start" />
                </StackLayout>
            </ScrollView>
        </Grid>
    </Shell.FlyoutContent>

    <ShellContent
        Title="Home"
        ContentTemplate="{DataTemplate views:MainPage}"
        Route="MainPage" />

</Shell>
